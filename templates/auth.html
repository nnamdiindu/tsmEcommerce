<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Auth – TSM Cosmetics</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="bg-purple-50 text-gray-800">
    <nav class="flex justify-between items-center p-4 shadow-md bg-white">
      <div class="text-xl font-bold">TSM Cosmetics</div>
      <div id="nav-right">
        <!-- Before login -->
        <a
          href="{{ url_for('register') }}"
          id="auth-link"
          class="text-purple-600 font-semibold"
        >
          Login / Register
        </a>
        <!-- After login -->
        <div id="user-info" class="hidden flex items-center gap-4">
          <img
            src="static/image/profile.jpg"
            alt="Profile"
            class="w-8 h-8 rounded-full"
          />
          <span id="username">User</span>
          <a href="{{ url_for('cart') }}" class="relative">
            <i class="fas fa-shopping-cart text-purple-700 text-xl"></i>
            <span
              id="cart-count"
              class="absolute -top-2 -right-2 bg-red-600 text-white text-xs px-1 rounded-full"
              >0</span
            >
          </a>
          <button
            onclick="logoutUser()"
            class="bg-red-500 text-white px-3 py-1 rounded text-sm"
          >
            Logout
          </button>
        </div>
      </div>
    </nav>

    <!-- AUTH SECTION -->
    <div class="flex justify-center items-center min-h-screen">
      <div
        class="w-full max-w-md p-8 bg-white shadow-xl rounded-lg overflow-hidden"
      >
        <!-- Login Form -->
        <div id="login">
          <h2 class="text-2xl font-bold mb-4">Login</h2>
          <form id="loginForm" class="space-y-4">
            <input
              type="email"
              name="email"
              placeholder="Email"
              required
              class="w-full p-2 border rounded"
            />
            <input
              type="password"
              name="password"
              placeholder="Password"
              required
              class="w-full p-2 border rounded"
            />
            <button
              type="submit"
              class="w-full bg-purple-600 text-white py-2 rounded"
            >
              Login
            </button>
          </form>
          <p class="mt-4 text-sm">
            Don't have an account?
            <button
              onclick="switchToRegister()"
              class="text-purple-600 underline"
            >
              Register
            </button>
          </p>
        </div>

        <!-- Register Form -->
        <div id="register" class="hidden">
          <h2 class="text-2xl font-bold mb-4">Register</h2>
          <form id="registerForm" class="space-y-4">
            <input
              type="text"
              name="fullname"
              placeholder="Full Name"
              required
              class="w-full p-2 border rounded"
            />
            <input
              type="email"
              name="email"
              placeholder="Email"
              required
              class="w-full p-2 border rounded"
            />
            <input
              type="text"
              name="phone"
              placeholder="Phone Number"
              required
              class="w-full p-2 border rounded"
            />
            <input
              type="text"
              name="address"
              placeholder="Shipping Address"
              required
              class="w-full p-2 border rounded"
            />
            <input
              type="password"
              name="password"
              placeholder="Password"
              required
              class="w-full p-2 border rounded"
            />
            <input
              type="password"
              name="confirmPassword"
              placeholder="Confirm Password"
              required
              class="w-full p-2 border rounded"
            />
            <button
              type="submit"
              class="w-full bg-purple-600 text-white py-2 rounded"
            >
              Register
            </button>
          </form>
          <p class="mt-4 text-sm">
            Already have an account?
            <button onclick="switchToLogin()" class="text-purple-600 underline">
              Login
            </button>
          </p>
        </div>
      </div>
    </div>
    <section class="py-16 bg-[#C8A2C8] text-center">
      <h2 class="text-3xl font-bold text-[#580F41] mb-12" data-aos="zoom-in">
        JUST LIKE YOU WE CARE ABOUT
      </h2>

      <div
        class="grid grid-cols-1 md:grid-cols-4 gap-12 max-w-6xl mx-auto px-4"
      >
        <!-- Card 1 -->
        <div
          data-aos="fade-up"
          data-aos-delay="200"
          class="flex flex-col items-center space-y-4 transition-transform duration-300 hover:scale-105"
        >
          <i class="fas fa-paw text-[#580F41] text-4xl"></i>
          <p class="font-semibold text-[#580F41] uppercase">
            Cruelty Free Products
          </p>
        </div>

        <!-- Card 2 -->
        <div
          data-aos="fade-up"
          data-aos-delay="200"
          class="flex flex-col items-center space-y-4 transition-transform duration-300 hover:scale-105"
        >
          <i class="fas fa-flask text-[#580F41] text-4xl"></i>
          <p class="font-semibold text-[#580F41] uppercase">
            No Harsh Chemicals
          </p>
        </div>

        <!-- Card 3 -->
        <div
          data-aos="fade-up"
          data-aos-delay="200"
          class="flex flex-col items-center space-y-4 transition-transform duration-300 hover:scale-105"
        >
          <i class="fas fa-leaf text-[#580F41] text-4xl"></i>
          <p class="font-semibold text-[#580F41] uppercase text-center">
            Quality Natural Ingredients
          </p>
        </div>

        <!-- Card 4 -->
        <div
          class="flex flex-col items-center space-y-4 transition-transform duration-300 hover:scale-105"
          data-aos="fade-up"
          data-aos-delay="200"
        >
          <i class="fas fa-recycle text-[#580F41] text-4xl"></i>
          <p class="font-semibold text-[#580F41] uppercase">Sustainability</p>
        </div>
      </div>
    </section>
    <!-- CARE -->
    <section class="py-16 bg-[#C8A2C8] text-center">
      <h2 class="text-3xl font-bold text-[#580F41] mb-12" data-aos="zoom-in">
        JUST LIKE YOU WE CARE ABOUT
      </h2>

      <div
        class="grid grid-cols-1 md:grid-cols-4 gap-12 max-w-6xl mx-auto px-4"
      >
        <!-- Card 1 -->
        <div
          data-aos="fade-up"
          data-aos-delay="200"
          class="flex flex-col items-center space-y-4 transition-transform duration-300 hover:scale-105"
        >
          <i class="fas fa-paw text-[#580F41] text-4xl"></i>
          <p class="font-semibold text-[#580F41] uppercase">
            Cruelty Free Products
          </p>
        </div>

        <!-- Card 2 -->
        <div
          data-aos="fade-up"
          data-aos-delay="200"
          class="flex flex-col items-center space-y-4 transition-transform duration-300 hover:scale-105"
        >
          <i class="fas fa-flask text-[#580F41] text-4xl"></i>
          <p class="font-semibold text-[#580F41] uppercase">
            No Harsh Chemicals
          </p>
        </div>

        <!-- Card 3 -->
        <div
          data-aos="fade-up"
          data-aos-delay="200"
          class="flex flex-col items-center space-y-4 transition-transform duration-300 hover:scale-105"
        >
          <i class="fas fa-leaf text-[#580F41] text-4xl"></i>
          <p class="font-semibold text-[#580F41] uppercase text-center">
            Quality Natural Ingredients
          </p>
        </div>

        <!-- Card 4 -->
        <div
          class="flex flex-col items-center space-y-4 transition-transform duration-300 hover:scale-105"
          data-aos="fade-up"
          data-aos-delay="200"
        >
          <i class="fas fa-recycle text-[#580F41] text-4xl"></i>
          <p class="font-semibold text-[#580F41] uppercase">Sustainability</p>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="bg-[#580F41] py-10 text-[#C8A2C8] pt-24">
      <div class="container mx-auto px-4 text-center" data-aos="fade-up">
        <h2 class="text-3xl font-bold mb-4">Contact Us</h2>
        <p class="mb-4">Have any questions or concerns? Reach out to us!</p>
        <form class="max-w-xl mx-auto space-y-4">
          <input
            type="text"
            placeholder="Name"
            class="w-full px-4 py-2 rounded text-[#580F41] bg-[#C8A2C8] placeholder-[#580F41]"
            required
          />
          <input
            type="email"
            placeholder="Email"
            class="w-full px-4 py-2 rounded text-[#580F41] bg-[#C8A2C8] placeholder-[#580F41]"
            required
          />
          <textarea
            placeholder="Message"
            rows="4"
            class="placeholder-[#580F41] w-full px-4 py-2 rounded text-[#580F41] bg-[#C8A2C8]"
            required
          ></textarea>
          <button
            type="submit"
            class="bg-[#C8A2C8] hover:bg-pink-300 text-[#580F41] px-6 py-2 rounded"
          >
            Send Message
          </button>
        </form>
      </div>
    </section>
    <!-- Features -->
    <section class="text-center py-12 bg-[#C8A2C8]">
      <h2
        class="text-3xl font-bold tracking-widest mb-10 text-[#580F41]"
        data-aos="slide-up"
      >
        AS FEATURED IN
      </h2>

      <div
        class="flex flex-wrap justify-center gap-6 px-4 max-w-6xl mx-auto"
        data-aos="zoom-in"
      >
        <!-- Shopify -->
        <div
          class="bg-[#580F41] p-6 w-48 h-28 flex items-center justify-center rounded-md shadow-sm animate-fade-in"
        >
          <i class="fab fa-shopify text-5xl text-[#C8A2C8]"></i>
        </div>

        <!-- Magazine (Vancouver) -->
        <div
          class="bg-[#580F41] p-6 w-48 h-28 flex items-center justify-center rounded-md shadow-sm animate-fade-in delay-100"
        >
          <i class="fas fa-newspaper text-5xl text-[#C8A2C8]"></i>
        </div>

        <!-- Elle (Use fashion icon) -->
        <div
          class="bg-[#580F41] p-6 w-48 h-28 flex items-center justify-center rounded-md shadow-sm animate-fade-in delay-200"
        >
          <i class="fas fa-user-tie text-5xl text-[#C8A2C8]"></i>
        </div>

        <!-- BCBusiness (Use briefcase icon) -->
        <div
          class="bg-[#580F41] p-6 w-48 h-28 flex items-center justify-center rounded-md shadow-sm animate-fade-in delay-300"
        >
          <i class="fas fa-briefcase text-5xl text-[#C8A2C8]"></i>
        </div>
      </div>
    </section>
    <!-- How it works -->
    <section class="text-center py-12 bg-[#580F41] pt-24" id="howitworks">
      <h2
        class="text-4xl font-bold text-[#C8A2C8] tracking-widest mb-12"
        data-aos="fade-up"
      >
        HOW IT WORKS
      </h2>

      <div
        class="flex flex-col md:flex-row justify-center items-stretch gap-8 max-w-5xl mx-auto px-4"
        data-aos="zoom-out"
      >
        <!-- Step 1 -->
        <div
          class="bg-[#C8A2C8] p-8 rounded-lg shadow-md w-full md:w-1/3 transform transition hover:scale-105 bounce-scale"
        >
          <div class="text-[#580F41] text-4xl mb-4">
            <i class="fas fa-laptop-house"></i>
          </div>
          <h3 class="text-[#580F41] text-2xl font-bold mb-2">01</h3>
          <p class="text-[#580F41]">
            Order online from the comfort of your home
          </p>
        </div>

        <!-- Step 2 -->
        <div
          class="bg-[#C8A2C8] p-8 rounded-lg shadow-md w-full md:w-1/3 transform transition hover:scale-105 fade-in delay-100"
        >
          <div class="text-[#580F41] text-4xl mb-4">
            <i class="fas fa-shipping-fast"></i>
          </div>
          <h3 class="text-[#580F41] text-2xl font-bold mb-2">02</h3>
          <p class="text-[#580F41]">
            Get your products delivered directly to your door
          </p>
        </div>

        <!-- Step 3 -->
        <div
          class="bg-[#C8A2C8] p-8 rounded-lg shadow-md w-full md:w-1/3 transform transition hover:scale-105 fade-in delay-200"
        >
          <div class="text-[#580F41] text-4xl mb-4">
            <i class="fas fa-heart"></i>
          </div>
          <h3 class="text-[#580F41] text-2xl font-bold mb-2">03</h3>
          <p class="text-[#580F41]">Use your products and love them</p>
        </div>
      </div>
    </section>
    <!-- Toast -->
    <div
      id="toast"
      class="fixed bottom-4 right-4 bg-black text-white px-4 py-2 rounded shadow hidden z-50"
    ></div>
    <footer class="bg-[#C8A2C8] text-gray-300 text-sm">
      <div
        class="max-w-7xl mx-auto px-6 py-12 grid grid-cols-1 md:grid-cols-4 gap-8"
        data-aos="zoom-in"
      >
        <!-- Logo & Contact -->
        <div>
          <h2 class="text-lg font-bold text-[#580F41] mb-4">TSM COSMETICS</h2>
          <p class="text-[#580F41]">
            Borno Plaza CAT 23 & 24, Lagos<br />Nigeria
          </p>
          <a
            href="#contact"
            class="inline-block mt-6 bg-[#580F41] text-white py-2 px-5 rounded hover:bg-pink-900 transition"
          >
            contact us
          </a>
        </div>

        <!-- Free Yourself -->
        <div class="text-[#580F41]">
          <h3 class="font-semibold mb-4">Free Yourself</h3>
          <ul class="space-y-2">
            <li><a href="#shop" class="hover:underline">Skin lotion</a></li>
            <li><a href="#shop" class="hover:underline">Body scrub</a></li>
            <li><a href="#shop" class="hover:underline">Baby lotion</a></li>
            <li><a href="#shop" class="hover:underline">Face Cream</a></li>
          </ul>
        </div>

        <!-- Company -->
        <div class="text-[#580F41]">
          <h3 class="font-semibold mb-4">Company</h3>
          <ul class="space-y-2">
            <li><a href="#about" class="hover:underline">About Us</a></li>
            <li><a href="#shop" class="hover:underline">Our Products</a></li>
            <!-- <li><a href="#" class="hover:underline">FAQs</a></li> -->
            <li>
              <a
                href="https://www.google.com/maps/place/Trade+Fair+Market+Borno+Plaza+Lagos+Nigeria"
                target="_blank"
                rel="noopener noreferrer"
                class="hover:underline"
              >
                Sitemap
              </a>
            </li>
          </ul>
        </div>

        <!-- Social -->
        <div class="text-[#580F41]">
          <h3 class="font-semibold mb-4">Follow Us</h3>
          <ul class="space-y-2">
            <li>
              <a
                href="https://www.facebook.com/share/162qoSt6Wp/?mibextid=kFxxJD"
                class="hover:underline"
                ><i class="fab fa-facebook mr-2"></i>Facebook</a
              >
            </li>
            <li>
              <a href="#" class="hover:underline"
                ><i class="fab fa-twitter mr-2"></i>Twitter</a
              >
            </li>
            <li>
              <a href="#" class="hover:underline"
                ><i class="fab fa-instagram mr-2"></i>Instagram</a
              >
            </li>
          </ul>
        </div>
      </div>

      <!-- Bottom strip -->
      <div
        class="border-t border-[#580F41] py-4 px-6 flex flex-col md:flex-row justify-between items-center text-xs"
      >
        <p>© 2025 TSM Cosmetics. All Rights Reserved.</p>
        <div class="flex items-center gap-2 mt-2 md:mt-0">
          <span>Accepted Payments:</span>
          <i class="fab fa-cc-mastercard text-xl"></i>
          <i class="fab fa-cc-visa text-xl"></i>
          <i class="fab fa-cc-paypal text-xl"></i>
        </div>
      </div>
    </footer>
    <!-- Toast -->
    <div
      id="toast"
      class="fixed bottom-4 right-4 hidden bg-green-600 text-white px-4 py-2 rounded shadow-lg z-50"
    >
      Success
    </div>

    <script>
      function switchToRegister() {
        document.getElementById("login").classList.add("hidden");
        document.getElementById("register").classList.remove("hidden");
      }

      function switchToLogin() {
        document.getElementById("register").classList.add("hidden");
        document.getElementById("login").classList.remove("hidden");
      }

      function logoutUser() {
        localStorage.removeItem("user");
        // window.location.href = "/pages/auth.html";
        window.location.href = "{{ url_for('register') }}";
      }

      function showToast(message, color = "bg-green-600") {
        const toast = document.getElementById("toast");
        toast.className = `fixed bottom-4 right-4 text-white px-4 py-2 rounded shadow-lg z-50 ${color}`;
        toast.innerText = message;
        toast.classList.remove("hidden");
        setTimeout(() => toast.classList.add("hidden"), 3000);
      }

      // LOGIN FORM
      document
        .getElementById("loginForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          const email = this.email.value;
          const password = this.password.value;

          // Dummy login logic
          const name = "User"; // default name for now
          localStorage.setItem("user", JSON.stringify({ name, email }));

          showToast("Login successful!");
          setTimeout(() => {
            // window.location.href = "/pages/index.html";
            window.location.href = "{{ url_for('index') }}";
          }, 1500);
        });

      // REGISTER FORM
      document
        .getElementById("registerForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const name = this.fullname.value;
          const email = this.email.value;

          localStorage.setItem("user", JSON.stringify({ name, email }));

          showToast("Registration successful!");
          setTimeout(() => {
            // window.location.href = "/pages/index.html";
            window.location.href = "{{ url_for('index') }}";
          }, 1500);
        });

      // NAVBAR USER STATE
      const user = JSON.parse(localStorage.getItem("user"));
      if (user) {
        document.getElementById("auth-link").classList.add("hidden");
        document.getElementById("user-info").classList.remove("hidden");
        document.getElementById("username").innerText = user.name || "User";
      }
    </script>
  </body>
</html>
